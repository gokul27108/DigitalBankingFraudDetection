<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Fraud Transactions Report</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
          rel="stylesheet">

    <style>

        body {
            background: linear-gradient(135deg,#fff5f5,#ffe3e3);
            font-family: 'Segoe UI', sans-serif;
        }

        /* HEADER */
        .fraud-header {
            background: linear-gradient(90deg,#8b0000,#ff3b3b);
            color: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.2);
        }

        /* CARD */
        .fraud-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 25px rgba(255,0,0,0.08);
        }

        /* FRAUD ROW */
        .fraud-row {
            background: linear-gradient(90deg,#ffe5e5,#ffd6d6) !important;
        }

        /* BUTTON */
        .btn-back {
            background: linear-gradient(90deg,#495057,#6c757d);
            border: none;
            color: white;
            border-radius: 10px;
            padding: 8px 18px;
        }

        /* TABLE */
        table {
            border-radius: 12px;
            overflow: hidden;
        }

        tbody tr:hover {
            background-color: #ffeaea;
            transition: 0.3s;
        }

        /* ALERT BOX */
        .fraud-alert {
            background: #fff3f3;
            border-left: 5px solid red;
            padding: 12px;
            border-radius: 8px;
        }

    </style>
</head>

<body class="container mt-4">

<!-- HEADER -->
<div class="fraud-header mb-4">
    <h2>ðŸš¨ Fraud Transactions Monitoring</h2>
    <p class="mb-0">
        High Risk Transactions Detected by Fraud Engine
    </p>
</div>

<!-- BACK BUTTON -->
<div class="mb-3">
    <a href="/" class="btn btn-back">
        â¬… Back to Dashboard
    </a>
</div>

<!-- FRAUD TABLE CARD -->
<div class="fraud-card">

    <h5 class="mb-3 text-danger">
        âš  Detected Fraud Transactions
    </h5>

    <div style="max-height: 500px; overflow-y: auto;">

        <table class="table table-hover align-middle">

            <thead class="table-dark">
            <tr>
                <th>ID</th>
                <th>Account</th>
                <th>Amount</th>
                <th>Location</th>
                <th>Status</th>
                <th>Risk Score</th>
                <th>Time</th>
            </tr>
            </thead>

            <tbody>
            <tr th:each="tx : ${transactions}" class="fraud-row">

                <td th:text="${tx.id}"></td>
                <td th:text="${tx.accountNumber}"></td>

                <td>
                    â‚¹ <span th:text="${tx.amount}"></span>
                </td>

                <td th:text="${tx.location}"></td>

                <td>
                    <span class="badge bg-danger"
                          th:text="${tx.status}">
                    </span>
                </td>

                <td>
                    <span class="badge bg-dark"
                          th:text="${tx.riskScore}">
                    </span>
                </td>

                <td th:text="${#temporals.format(tx.transactionTime, 'dd-MM-yyyy HH:mm')}"></td>

            </tr>
            </tbody>

        </table>

    </div>

</div>

<!-- EMPTY MESSAGE -->
<div th:if="${#lists.isEmpty(transactions)}"
     class="fraud-alert mt-3">
    âœ… No fraud transactions found. System is safe.
</div>

</body>
</html>
